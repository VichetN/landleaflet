{"version":3,"sources":["components/Api.js","components/FormProvice.jsx","components/MapDraw.jsx","Screens/MapScreen.jsx","App.js","serviceWorker.js","index.js"],"names":["Pro","name","coordinates","dis","com","Land","idLand","addr","pro","uid","lat","lng","FormProvice","props","posi","setPosi","setAddr","useState","setDis","setCom","className","aria-label","onChange","e","data","target","value","find","p","zoom","map","key","di","d","co","c","useStyles","makeStyles","theme","height","width","zIndex","buttonWrapper","position","bottom","spacing","marginLeft","marginBottom","transform","headerWrapper","marginTop","MapDraw","classes","editRef","useRef","mapLayers","setMapLayers","satellite","setSatellite","land","setLand","searchId","setSearchId","keyId","setKeyId","useEffect","searched","sellLand","filter","s","length","searchSubmit","preventDefault","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","Map","center","zoomControl","TileLayer","attribution","url","FeatureGroup","ref","onCreated","console","log","layerType","layer","_leaflet_id","layers","id","latlngs","getLatLngs","onEdited","onDeleted","draw","rectangle","circle","polyline","circlemarker","marker","polygon","allowIntersection","shapeOptions","color","l","Polygon","positions","Marker","onClick","googleMapsLoaderConf","KEY","type","style","right","onSubmit","cursor","placeholder","hidden","background","lan","gotoMap","JSON","stringify","MapScreen","App","path","exact","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.d63cb22d.chunk.js","sourcesContent":["export const Pro = [\r\n {\r\n  name: 'សៀមរាប',\r\n  coordinates: [13.5446, 104.0779],\r\n  dis: [\r\n   {\r\n    name: 'បន្ទាយស្រី',\r\n    coordinates: [13.6031, 103.9666],\r\n    com: [\r\n     { name: 'ព្រះដាក់', coordinates: [13.444, 103.9387] },\r\n     { name: 'ឃុនរាម', coordinates: [13.652, 104.0001] },\r\n    ],\r\n   },\r\n   {\r\n    name: 'សៀមរាប',\r\n    coordinates: [13.3633, 103.8564],\r\n    com: [],\r\n   },\r\n  ],\r\n },\r\n {\r\n  name: 'បាត់ដំបង',\r\n  coordinates: [13.0287, 102.9896],\r\n  dis: [\r\n   {\r\n    name: 'ថ្មគោល',\r\n    coordinates: [13.2588, 103.086],\r\n    com: [{ name: 'ក្ដុលដូនទាវ', coordinates: [13.1454, 103.1957] }],\r\n   },\r\n   {\r\n    name: 'បាត់ដំបង',\r\n    coordinates: [13.0957, 103.2022],\r\n    com: [\r\n     {\r\n      name: 'រូងជ្រៃ',\r\n      coordinates: [13.271488481527653, 102.98601796478897],\r\n     },\r\n    ],\r\n   },\r\n  ],\r\n },\r\n];\r\n\r\nexport const Land = [\r\n {\r\n  idLand: 1,\r\n  addr: {\r\n   pro: 'សៀមរាប',\r\n   dis: 'បន្ទាយស្រី',\r\n   com: 'ឃុនរាម',\r\n  },\r\n  uid: '1',\r\n  coordinates: [\r\n   {\r\n    lat: 13.652367626612335,\r\n    lng: 104.00156889135248,\r\n   },\r\n   {\r\n    lat: 13.651578153598498,\r\n    lng: 104.00203309260203,\r\n   },\r\n   {\r\n    lat: 13.651424427522805,\r\n    lng: 104.00171110329599,\r\n   },\r\n   {\r\n    lat: 13.65222432312622,\r\n    lng: 104.00128178422126,\r\n   },\r\n  ],\r\n },\r\n {\r\n  idLand: 2,\r\n  addr: {\r\n   pro: 'សៀមរាប',\r\n   dis: 'បន្ទាយស្រី',\r\n   com: 'ឃុនរាម',\r\n  },\r\n  uid: 1,\r\n  coordinates: [\r\n   {\r\n    lat: 13.652755877398482,\r\n    lng: 104.00238456446802,\r\n   },\r\n   {\r\n    lat: 13.65191168972471,\r\n    lng: 104.00297487819579,\r\n   },\r\n   {\r\n    lat: 13.651476567120392,\r\n    lng: 104.00253482614418,\r\n   },\r\n   {\r\n    lat: 13.65251617009454,\r\n    lng: 104.00186938157832,\r\n   },\r\n  ],\r\n },\r\n {\r\n  idLand: 3,\r\n  addr: {\r\n   pro: 'បាត់ដំបង',\r\n   dis: 'ថ្មគោល',\r\n   com: 'ក្ដុលដូនទាវ',\r\n  },\r\n  uid: 1,\r\n  coordinates: [\r\n   {\r\n    lat: 13.144853860425153,\r\n    lng: 103.19420456886292,\r\n   },\r\n   {\r\n    lat: 13.145705054766312,\r\n    lng: 103.19424211978914,\r\n   },\r\n   {\r\n    lat: 13.145694610681872,\r\n    lng: 103.19466590881349,\r\n   },\r\n   {\r\n    lat: 13.144832972183325,\r\n    lng: 103.1946498155594,\r\n   },\r\n  ],\r\n },\r\n];\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { Pro } from './Api';\r\n\r\nconst FormProvice = (props) => {\r\n const { posi, setPosi, addr, setAddr } = props;\r\n const [dis, setDis] = useState([]);\r\n const [com, setCom] = useState([]);\r\n\r\n const onChangePro = (e) => {\r\n  const data = e.target.value;\r\n  if (data !== '') {\r\n   var pro = Pro.find((p) => {\r\n    return p.name === data;\r\n   });\r\n   setAddr({ ...addr, pro: data, dis: '', com: '' });\r\n   setDis(pro.dis);\r\n   setCom([]);\r\n   setPosi({ ...posi, posi: pro.coordinates, zoom: 10 });\r\n  } else {\r\n   setDis([]);\r\n   setCom([]);\r\n   setPosi({ ...posi, posi: [12.5657, 104.991], zoom: 8 });\r\n  }\r\n };\r\n\r\n const onChangeDis = (e) => {\r\n  const data = e.target.value;\r\n  if (data !== '') {\r\n   var di = dis.find((d) => {\r\n    return d.name === data;\r\n   });\r\n   setAddr({ ...addr, dis: data, com: '' });\r\n   setPosi({ ...posi, posi: di.coordinates, zoom: 12 });\r\n   setCom(di.com);\r\n  } else {\r\n   setCom([]);\r\n   setPosi({ ...posi, posi: posi.posi, zoom: 10 });\r\n  }\r\n };\r\n\r\n const onChangeCom = (e) => {\r\n  const data = e.target.value;\r\n  if (data !== '') {\r\n   var co = com.find((c) => {\r\n    return c.name === data;\r\n   });\r\n   setAddr({ ...addr, com: data });\r\n   setPosi({ ...posi, posi: co.coordinates, zoom: 16 });\r\n  } else {\r\n   setPosi({ ...posi, posi: posi.posi, zoom: 12 });\r\n  }\r\n };\r\n return (\r\n  <div className=\"mt-4\">\r\n   <div className=\"mb-3 row\">\r\n    <label className=\"col-sm-3 col-form-label\">ខេត្ដ/ក្រុង</label>\r\n    <div className=\"col-sm-9\">\r\n     <select\r\n      className=\"form-select\"\r\n      aria-label=\"Default select example\"\r\n      onChange={onChangePro}\r\n     >\r\n      <option value=\"\"></option>\r\n      {Pro &&\r\n       Pro.map((pro) => (\r\n        <option key={pro.name} value={pro.name}>\r\n         {pro.name}\r\n        </option>\r\n       ))}\r\n     </select>\r\n    </div>\r\n   </div>\r\n\r\n   <div className=\"mb-3 row\">\r\n    <label className=\"col-sm-3 col-form-label\">ស្រុក/ខណ្ឌ</label>\r\n    <div className=\"col-sm-9\">\r\n     <select\r\n      className=\"form-select\"\r\n      aria-label=\"Default select example\"\r\n      onChange={onChangeDis}\r\n     >\r\n      <option value=\"\"></option>\r\n      {dis &&\r\n       dis.map((d) => (\r\n        <option key={d.name} value={d.name}>\r\n         {d.name}\r\n        </option>\r\n       ))}\r\n     </select>\r\n    </div>\r\n   </div>\r\n\r\n   <div className=\"mb-3 row\">\r\n    <label className=\"col-sm-3 col-form-label\">ឃុំ/សង្កាត់</label>\r\n    <div className=\"col-sm-9\">\r\n     <select\r\n      className=\"form-select\"\r\n      aria-label=\"Default select example\"\r\n      onChange={onChangeCom}\r\n     >\r\n      <option value=\"\"></option>\r\n      {com &&\r\n       com.map((c) => (\r\n        <option key={c.name} value={c.name}>\r\n         {c.name}\r\n        </option>\r\n       ))}\r\n     </select>\r\n    </div>\r\n   </div>\r\n  </div>\r\n );\r\n};\r\n\r\nexport default FormProvice;\r\n","import React, { useRef, useState } from 'react';\r\nimport L from 'leaflet';\r\nimport {\r\n Map,\r\n FeatureGroup,\r\n TileLayer,\r\n Polygon,\r\n Popup,\r\n Marker,\r\n} from 'react-leaflet';\r\nimport { EditControl } from 'react-leaflet-draw';\r\nimport ReactLeafletGoogleLayer from 'react-leaflet-google-layer';\r\nimport FormProvice from './FormProvice';\r\nimport { FaMapMarkedAlt } from 'react-icons/fa';\r\n\r\nimport './assets/leaflet.css';\r\nimport './assets/leaflet.draw.css';\r\n\r\n// Material components\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useEffect } from 'react';\r\n\r\nimport { Land as sellLand } from './Api';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n map: {\r\n  height: `calc(90vh - 90px)`,\r\n  width: '100%',\r\n  zIndex: 0,\r\n },\r\n buttonWrapper: {\r\n  zIndex: 1,\r\n  position: 'absolute',\r\n  bottom: theme.spacing(2),\r\n  marginLeft: '30%',\r\n  marginBottom: '8%',\r\n  transform: 'translateX(-50%)',\r\n },\r\n headerWrapper: {\r\n  zIndex: 1,\r\n  marginLeft: theme.spacing(3),\r\n  marginTop: theme.spacing(1),\r\n },\r\n}));\r\n\r\nexport const MapDraw = (props) => {\r\n const classes = useStyles(props);\r\n const editRef = useRef();\r\n const [mapLayers, setMapLayers] = useState([]);\r\n const [posi, setPosi] = useState({ posi: [12.5657, 104.991], zoom: 8 });\r\n const [satellite, setSatellite] = useState(false);\r\n const [addr, setAddr] = useState({ pro: '', dis: '', com: '' });\r\n const [land, setLand] = useState([]);\r\n const [searchId, setSearchId] = useState('');\r\n const [keyId, setKeyId] = useState('');\r\n\r\n useEffect(() => {\r\n  if (searchId) {\r\n   const searched = sellLand.filter((s) => {\r\n    return s.idLand == searchId;\r\n   });\r\n   setLand(searched);\r\n   if (searched.length) {\r\n    setPosi({\r\n     ...posi,\r\n     posi: [searched[0].coordinates[0].lat, searched[0].coordinates[0].lng],\r\n     zoom: 16,\r\n    });\r\n    setSatellite(true);\r\n   }\r\n  } else {\r\n   if (addr.pro && addr.dis && addr.com) {\r\n    setLand(\r\n     sellLand.filter((s) => {\r\n      return s.addr.com === addr.com;\r\n     })\r\n    );\r\n   } else if (addr.pro && addr.dis) {\r\n    setLand(\r\n     sellLand.filter((s) => {\r\n      return s.addr.dis === addr.dis;\r\n     })\r\n    );\r\n   } else if (addr.pro) {\r\n    setLand(\r\n     sellLand.filter((s) => {\r\n      return s.addr.pro === addr.pro;\r\n     })\r\n    );\r\n   } else {\r\n    setLand(sellLand);\r\n   }\r\n  }\r\n }, [addr, searchId]);\r\n\r\n const _onCreated = (e) => {\r\n  console.log(e);\r\n  const { layerType, layer } = e;\r\n  if (layerType === 'polygon') {\r\n   const { _leaflet_id } = layer;\r\n   console.log(layer);\r\n   setMapLayers((layers) => [\r\n    ...layers,\r\n    { id: _leaflet_id, latlngs: layer.getLatLngs()[0] },\r\n   ]);\r\n  }\r\n };\r\n const _onEdited = (e) => {\r\n  console.log(e);\r\n };\r\n const _onDeleted = (e) => {\r\n  console.log(e);\r\n };\r\n\r\n const gotoMap = (lan) => {\r\n  const l = lan.coordinates[0];\r\n  setPosi({ ...posi, posi: [l.lat, l.lng], zoom: 17 });\r\n };\r\n\r\n const searchHandler = (e) => {\r\n  setKeyId(e.target.value);\r\n };\r\n const searchSubmit = (e) => {\r\n  e.preventDefault();\r\n  setSearchId(keyId);\r\n };\r\n\r\n delete L.Icon.Default.prototype._getIconUrl;\r\n L.Icon.Default.mergeOptions({\r\n  iconRetinaUrl:\r\n   'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0/images/marker-icon.png',\r\n  iconUrl:\r\n   'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0/images/marker-icon.png',\r\n  shadowUrl:\r\n   'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0/images/marker-shadow.png',\r\n });\r\n\r\n return (\r\n  <div>\r\n   <div className=\"row w-100\">\r\n    <div className=\"col-9 position-relative px-3 my-1\">\r\n     <Map\r\n      center={posi.posi}\r\n      zoom={posi.zoom}\r\n      zoomControl={true}\r\n      className={classes.map}\r\n     >\r\n      <TileLayer\r\n       attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n       url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\"\r\n      />\r\n\r\n      <FeatureGroup>\r\n       <EditControl\r\n        ref={editRef}\r\n        position=\"topright\"\r\n        onCreated={_onCreated}\r\n        onEdited={_onEdited}\r\n        onDeleted={_onDeleted}\r\n        draw={{\r\n         rectangle: false,\r\n         circle: false,\r\n         polyline: false,\r\n         circlemarker: false,\r\n         marker: false,\r\n         polygon: {\r\n          allowIntersection: false,\r\n          shapeOptions: {\r\n           color: '#ff0000',\r\n          },\r\n         },\r\n        }}\r\n       />\r\n       {land &&\r\n        land.map((l) => (\r\n         <div key={l.idLand}>\r\n          <Polygon className=\"bg-light\" positions={l.coordinates}></Polygon>\r\n          <Marker\r\n           onClick={() =>\r\n            setPosi({\r\n             ...posi,\r\n             posi: [l.coordinates[0].lat, l.coordinates[0].lng],\r\n             zoom: 16,\r\n            })\r\n           }\r\n           position={[l.coordinates[0].lat, l.coordinates[0].lng]}\r\n          ></Marker>\r\n         </div>\r\n        ))}\r\n      </FeatureGroup>\r\n      {satellite ? (\r\n       <ReactLeafletGoogleLayer\r\n        googleMapsLoaderConf={{\r\n         KEY: 'AIzaSyCLpho9FZOn3PUIt7Pm8R6GPTIQQrJ1_1M',\r\n        }}\r\n        type={'satellite'}\r\n       />\r\n      ) : null}\r\n     </Map>\r\n     <button\r\n      onClick={() => setSatellite(!satellite)}\r\n      className={`position-absolute btn ${\r\n       satellite ? 'btn-light' : 'btn-dark'\r\n      }`}\r\n      style={{ bottom: 20, right: 20 }}\r\n     >\r\n      <FaMapMarkedAlt />\r\n     </button>\r\n    </div>\r\n    <div className=\"col-3 mt-3\">\r\n     <form onSubmit={searchSubmit}>\r\n      <div className=\"input-group mb-3\">\r\n       <span\r\n        className=\"input-group-text\"\r\n        id=\"basic-addon1\"\r\n        style={{ cursor: 'pointer' }}\r\n        onClick={searchSubmit}\r\n       >\r\n        <FaMapMarkedAlt />\r\n       </span>\r\n       <input\r\n        type=\"text\"\r\n        value={keyId}\r\n        onChange={searchHandler}\r\n        className=\"form-control\"\r\n        placeholder=\"Land ID\"\r\n       />\r\n      </div>\r\n      <input type=\"submit\" value=\"search\" className=\"\" hidden />\r\n     </form>\r\n     <FormProvice setPosi={setPosi} posi={posi} addr={addr} setAddr={setAddr} />\r\n     <p>{land.length ? `មាន(${land.length})` : 'មិនមានទីតាំងដី'}</p>\r\n     {land &&\r\n      land.map((l) => (\r\n       <div\r\n        key={l.idLand}\r\n        className={`px-3 py-3 mb-1 text-dark rounded`}\r\n        style={{ cursor: 'pointer', background: 'rgb(201, 201, 201)' }}\r\n        onClick={() => gotoMap(l)}\r\n       >\r\n        <FaMapMarkedAlt /> ID: {l.idLand} / {l.addr.pro}-{l.addr.dis}-\r\n        {l.addr.com}\r\n       </div>\r\n      ))}\r\n    </div>\r\n   </div>\r\n\r\n   <pre>{JSON.stringify(mapLayers, 0, 2)}</pre>\r\n  </div>\r\n );\r\n};\r\n\r\nexport default MapDraw;\r\n","import React from 'react';\r\nimport MapDraw from '../components';\r\n\r\nconst MapScreen = () => {\r\n return (\r\n  <div>\r\n   <MapDraw />\r\n  </div>\r\n );\r\n};\r\n\r\nexport default MapScreen;\r\n","import React from 'react';\r\nimport MapScreen from './Screens/MapScreen';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nfunction App() {\r\n return (\r\n  <div>\r\n   <Router>\r\n    <Switch>\r\n     <Route path=\"/\" exact>\r\n      <MapScreen />\r\n     </Route>\r\n    </Switch>\r\n   </Router>\r\n  </div>\r\n );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}